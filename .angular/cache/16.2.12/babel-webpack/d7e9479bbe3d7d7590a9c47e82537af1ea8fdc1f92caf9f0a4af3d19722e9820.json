{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../api-call.service\";\nimport * as i2 from \"../login.service\";\nimport * as i3 from \"@angular/router\";\nexport class ReportAPIComponent {\n  constructor(ApiCallService, LoginService, router) {\n    this.ApiCallService = ApiCallService;\n    this.LoginService = LoginService;\n    this.router = router;\n    this.userOn = false;\n    this.response1 = '';\n    this.response2 = '';\n    this.title = '';\n    this.reportData = '';\n    this.token = '';\n  }\n  // Check if a user is online\n  // Get token\n  ngOnInit() {\n    this.userOnline();\n    this.route4();\n  }\n  // If no user online transfer to login\n  userOnline() {\n    console.log('Checking if the user is online');\n    var testU;\n    testU = this.LoginService.getUserOn();\n    if (testU) {\n      this.userOn = true;\n      this.response1 = 'Access by user';\n      return;\n    }\n    this.response1 = 'No-Access, no user';\n    this.router.navigate(['login']);\n    console.log('User online:' + this.userOn);\n  }\n  // CALLBACKS\n  // Get response data\n  callback(thisObj, res, result) {\n    console.log(result);\n    thisObj.reponse2 = result.data.msg;\n    if (result.data.data[0] == undefined) {\n      console.log(\"No data\");\n      thisObj.title = 'No data';\n      thisObj.reportData = '';\n      return;\n    }\n    thisObj.title = result.data.data[0].title;\n    thisObj.reportData = result.data.data[0].data;\n    result.data.data[0].data;\n  }\n  // Set the token \n  callback2(thisObj, res, result) {\n    console.log('Setting the token:' + result.data.token);\n    thisObj.token = result.data.token;\n  }\n  // Register a text & edit a text\n  callback3(thisObj, res, result) {\n    console.log('Callback3');\n    console.log(result);\n    if (result.data != undefined) {\n      if (result.data.msg != undefined) {\n        thisObj.response2 = result.data.msg;\n        thisObj.router.navigate(['seeReports']);\n      }\n    }\n    if (result.error != undefined) {\n      thisObj.response2 = result.error;\n      thisObj.response2 = 'Not completed, duplicate title?';\n    }\n  }\n  // Register a text & edit a text\n  callback4(thisObj, res, result) {\n    console.log('Callback4');\n    console.log(result);\n    if (result.data != undefined) {\n      if (result.data.msg != undefined) {\n        thisObj.response2 = result.data.msg;\n        // thisObj.router.navigate(['seeReports']);\n      }\n    }\n\n    if (result.error != undefined) {\n      thisObj.response2 = result.error;\n      thisObj.response2 = 'Not completed';\n    }\n  }\n  // ROUTES\n  // Display text from week nr\n  route1(weekNr) {\n    var url = 'https://me-api.ysojs.se/reports/week/' + weekNr;\n    var dataObj = {};\n    var token = null;\n    var obj1 = this;\n    this.reportData = '';\n    this.title = '';\n    this.response2 = '';\n    this.ApiCallService.fetchCall(dataObj, url, 'GET', this.callback, token, obj1);\n  }\n  // // Add data\n  // route2(title, data=null) {\n  //   console.log('Title:'+title);\n  //   console.log('Data:'+data);\n  //   this.response2 = '';\n  //   this.reportData = data;\n  //   this.title = title;\n  // }\n  // // Edit data\n  // route3(title, data=null, data2=null) {\n  //   console.log('Title:'+title);\n  //   console.log('Data:'+data);\n  //   console.log('Data:'+data2);\n  //   this.reportData = data;\n  //   this.title = title;\n  // }\n  // Get token\n  route4() {\n    console.log('Get token');\n    var url = \"https://me-api.ysojs.se/token\";\n    var dataObj = {};\n    var obj1 = this;\n    this.ApiCallService.fetchCall(dataObj, url, 'GET', this.callback2, null, obj1);\n  }\n  // Register a text\n  // registerText(title, text, token) {\n  //   var url = 'https://me-api.ysojs.se/reports/add';\n  //   var params;\n  //   params = {\"title\":title, \"data1\":text};\n  //   this.ApiCallService.fetchCall();\n  // }\n  // Register a text\n  route5(title, text, token = this.token) {\n    console.log('Add a text: ' + text + ' title: ' + title + ' token: ' + token);\n    var url = 'https://me-api.ysojs.se/reports/add';\n    var obj1 = this;\n    var params = {\n      \"title\": title,\n      \"data1\": text\n    };\n    this.response2 = ''; // Empty response text\n    this.ApiCallService.fetchCall(params, url, 'POST', this.callback3, token, obj1);\n  }\n  // Edit a text\n  route6(title, text, token = this.token) {\n    console.log('Add a text: ' + text + ' title: ' + title + ' token: ' + token);\n    var url = 'https://me-api.ysojs.se/reports/edit';\n    var obj1 = this;\n    var params = {\n      \"title\": title,\n      \"data1\": text\n    };\n    this.response2 = ''; // Empty response text\n    this.ApiCallService.fetchCall(params, url, 'POST', this.callback3, token, obj1);\n  }\n  // Delete a text\n  route7(title, token = this.token) {\n    console.log('Delete title: ' + title);\n    var url = 'https://me-api.ysojs.se/reports/delete';\n    var obj1 = this;\n    var params = {\n      \"title\": title\n    };\n    this.response2 = ''; // Empty response text\n    this.ApiCallService.fetchCall(params, url, 'POST', this.callback4, token, obj1);\n  }\n  static #_ = this.ɵfac = function ReportAPIComponent_Factory(t) {\n    return new (t || ReportAPIComponent)(i0.ɵɵdirectiveInject(i1.ApiCallService), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReportAPIComponent,\n    selectors: [[\"app-report-api\"]],\n    decls: 44,\n    vars: 7,\n    consts: [[1, \"centerColumn\"], [1, \"theForm\"], [\"type\", \"number\", 1, \"input\"], [\"box1\", \"\"], [1, \"submitBtn\", 3, \"click\"], [1, \"reports\"], [\"type\", \"text\", 1, \"input\", 3, \"value\"], [\"input1\", \"\"], [\"id\", \"input2\", \"rows\", \"5\", \"cols\", \"30\", 3, \"value\"], [\"input2\", \"\"]],\n    template: function ReportAPIComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \" Reports \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(3);\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵtext(5, \" Week: \");\n        i0.ɵɵelement(6, \"input\", 2, 3);\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵlistener(\"click\", function ReportAPIComponent_Template_div_click_8_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r0 = i0.ɵɵreference(7);\n          return i0.ɵɵresetView(ctx.route1(_r0.value));\n        });\n        i0.ɵɵtext(9, \" Submit \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"h2\");\n        i0.ɵɵtext(11, \" Reports \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 5)(13, \"h3\");\n        i0.ɵɵtext(14, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"p\");\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"h3\");\n        i0.ɵɵtext(18, \"ReportData\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"h3\");\n        i0.ɵɵtext(22, \" Edit / add \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 5);\n        i0.ɵɵtext(24, \" Title: \");\n        i0.ɵɵelement(25, \"input\", 6, 7)(27, \"br\");\n        i0.ɵɵtext(28, \" Text: \");\n        i0.ɵɵelementStart(29, \"textarea\", 8, 9);\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelementStart(33, \"div\", 4);\n        i0.ɵɵlistener(\"click\", function ReportAPIComponent_Template_div_click_33_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r1 = i0.ɵɵreference(26);\n          const _r2 = i0.ɵɵreference(30);\n          return i0.ɵɵresetView(ctx.route5(_r1.value, _r2.value));\n        });\n        i0.ɵɵtext(34, \" Add \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 4);\n        i0.ɵɵlistener(\"click\", function ReportAPIComponent_Template_div_click_35_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r1 = i0.ɵɵreference(26);\n          const _r2 = i0.ɵɵreference(30);\n          return i0.ɵɵresetView(ctx.route6(_r1.value, _r2.value));\n        });\n        i0.ɵɵtext(36, \" Edit \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 4);\n        i0.ɵɵlistener(\"click\", function ReportAPIComponent_Template_div_click_37_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r1 = i0.ɵɵreference(26);\n          return i0.ɵɵresetView(ctx.route7(_r1.value));\n        });\n        i0.ɵɵtext(38, \" Delete \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 5)(40, \"h2\");\n        i0.ɵɵtext(41, \" Response \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"p\");\n        i0.ɵɵtext(43);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.response1, \" \");\n        i0.ɵɵadvance(13);\n        i0.ɵɵtextInterpolate1(\" \", ctx.title, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.reportData);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.reportData);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.reportData);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate(ctx.response2);\n      }\n    },\n    styles: [\".centerColumn[_ngcontent-%COMP%] {\\n    background-color: #708DA4;\\n    width: 100%;\\n    margin: 0 auto;\\n    max-width: 550px;\\n    padding: 5%;\\n}\\n\\n.reports[_ngcontent-%COMP%] {\\n    clear: both;\\n    width: 100%; \\n    padding-top: 3%;\\n}\\n\\n.theForm[_ngcontent-%COMP%] {\\n    font-family: inherit;\\n    font-size: 100%;\\n    width: 80%;\\n    margin: 0 auto;\\n    max-width: 700px;\\n    list-style: none;\\n    padding: 8%;\\n    text-align: center;\\n    \\n\\n\\n\\n}\\n\\n.submitBtn[_ngcontent-%COMP%] {\\n    box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.75);\\n    -webkit-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.75);\\n    -moz-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.75);\\n    \\n    float: left;\\n    min-width: 100px;\\n    margin: 0 auto;\\n    background-color: rgb(187, 219, 187);\\n    color: black;\\n    width: 15%;\\n    padding: 12px;\\n    letter-spacing: 2px;\\n    text-transform: uppercase;\\n    border-radius: 25px;\\n    margin-top: 5%;\\n    cursor: pointer;\\n    text-align:center;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px;\\n    border: 1px solid #708DA4;\\n    border-radius: 4px;\\n    resize: vertical;\\n    outline: none;\\n  }\\n\\ninput[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px;\\n    border: 1px solid #708DA4;\\n    border-radius: 4px;\\n    resize: vertical;\\n    outline: none;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%]:hover {\\n    background-color: #beddcf;\\n\\n    outline: none;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%]:focus {\\n    background-color: #74AE95;\\n    border: 1px solid #708DA4;\\n    outline: none;\\n}\\n\\ninput[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%] {\\n  \\n\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVwb3J0LWFwaS9yZXBvcnQtYXBpLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsV0FBVztJQUNYLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxvQkFBb0I7SUFDcEIsZUFBZTtJQUNmLFVBQVU7SUFDVixjQUFjO0lBQ2QsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCOzsrQ0FFMkM7QUFDL0M7O0FBRUE7SUFDSSw0Q0FBNEM7SUFDNUMsb0RBQW9EO0lBQ3BELGlEQUFpRDs7SUFFakQsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2Qsb0NBQW9DO0lBQ3BDLFlBQVk7SUFDWixVQUFVO0lBQ1YsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCxlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixhQUFhO0VBQ2Y7O0FBRUY7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSx5QkFBeUI7O0lBRXpCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLGFBQWE7QUFDakI7O0FBRUE7Ozs7RUFJRSxtQkFBbUI7RUFDbkIsVUFBVTtFQUNWLFNBQVM7RUFDVCxzQkFBc0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLmNlbnRlckNvbHVtbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzcwOERBNDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBtYXgtd2lkdGg6IDU1MHB4O1xuICAgIHBhZGRpbmc6IDUlO1xufVxuXG4ucmVwb3J0cyB7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgd2lkdGg6IDEwMCU7IFxuICAgIHBhZGRpbmctdG9wOiAzJTtcbn1cblxuLnRoZUZvcm0ge1xuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgIGZvbnQtc2l6ZTogMTAwJTtcbiAgICB3aWR0aDogODAlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIG1heC13aWR0aDogNzAwcHg7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBwYWRkaW5nOiA4JTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgLyogYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBwYWRkaW5nOiA1JTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjUpOyAqL1xufVxuXG4uc3VibWl0QnRuIHtcbiAgICBib3gtc2hhZG93OiAwcHggNXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjc1KTtcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCA1cHggNXB4IDBweCByZ2JhKDAsMCwwLDAuNzUpO1xuICAgIC1tb3otYm94LXNoYWRvdzogMHB4IDVweCA1cHggMHB4IHJnYmEoMCwwLDAsMC43NSk7XG4gICAgXG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWluLXdpZHRoOiAxMDBweDtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTg3LCAyMTksIDE4Nyk7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIHdpZHRoOiAxNSU7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBsZXR0ZXItc3BhY2luZzogMnB4O1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgICBtYXJnaW4tdG9wOiA1JTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XG59XG5cbmlucHV0W3R5cGU9dGV4dF0sIHNlbGVjdCwgdGV4dGFyZWEge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzcwOERBNDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgcmVzaXplOiB2ZXJ0aWNhbDtcbiAgICBvdXRsaW5lOiBub25lO1xuICB9XG5cbmlucHV0W3R5cGU9bnVtYmVyXSwgc2VsZWN0LCB0ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA4REE0O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICByZXNpemU6IHZlcnRpY2FsO1xuICAgIG91dGxpbmU6IG5vbmU7XG59XG5cbmlucHV0W3R5cGU9dGV4dF06aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNiZWRkY2Y7XG5cbiAgICBvdXRsaW5lOiBub25lO1xufVxuXG5pbnB1dFt0eXBlPXRleHRdOmZvY3VzIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzRBRTk1O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3MDhEQTQ7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuaW5wdXQsXG50ZXh0YXJlYSxcbnNlbGVjdCxcbmJ1dHRvbiB7XG4gIC8qIHdpZHRoOiAxNTBweDsgICovXG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["ReportAPIComponent","constructor","ApiCallService","LoginService","router","userOn","response1","response2","title","reportData","token","ngOnInit","userOnline","route4","console","log","testU","getUserOn","navigate","callback","thisObj","res","result","reponse2","data","msg","undefined","callback2","callback3","error","callback4","route1","weekNr","url","dataObj","obj1","fetchCall","route5","text","params","route6","route7","_","i0","ɵɵdirectiveInject","i1","i2","i3","Router","_2","selectors","decls","vars","consts","template","ReportAPIComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ReportAPIComponent_Template_div_click_8_listener","ɵɵrestoreView","_r3","_r0","ɵɵreference","ɵɵresetView","value","ReportAPIComponent_Template_div_click_33_listener","_r1","_r2","ReportAPIComponent_Template_div_click_35_listener","ReportAPIComponent_Template_div_click_37_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵtextInterpolate","ɵɵpropertyInterpolate"],"sources":["/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/projektJs2024/frontendProj/src/app/report-api/report-api.component.ts","/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/projektJs2024/frontendProj/src/app/report-api/report-api.component.html"],"sourcesContent":["import { Component } from '@angular/core';\n\nimport { ApiCallService } from '../api-call.service';\n\nimport { LoginService } from '../login.service';\n\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-report-api',\n  templateUrl: './report-api.component.html',\n  styleUrls: ['./report-api.component.css']\n})\nexport class ReportAPIComponent {\n\n  userOn = false;\n  response1 = '';\n  response2 = '';\n  title = '';\n  reportData = '';\n  token = '';\n\n  constructor( \n    private ApiCallService: ApiCallService,\n    private LoginService: LoginService,\n    private router: Router\n    ) { }\n\n    // Check if a user is online\n    // Get token\n    ngOnInit(): void {\n      this.userOnline();\n      this.route4(); \n    }\n\n    // If no user online transfer to login\n    userOnline(){\n      console.log('Checking if the user is online');\n      var testU;\n      testU = this.LoginService.getUserOn();\n\n      if (testU) {\n        this.userOn = true;\n        this.response1 = 'Access by user';\n        return;\n      }\n\n      this.response1 = 'No-Access, no user';\n      this.router.navigate(['login']);\n      console.log('User online:'+this.userOn);\n    }\n\n    // CALLBACKS\n    // Get response data\n    callback(thisObj, res, result) {\n      console.log(result);\n      thisObj.reponse2 = result.data.msg;\n\n      if(result.data.data[0] == undefined) { \n          console.log(\"No data\");\n          thisObj.title = 'No data';\n          thisObj.reportData = '';\n\n          return\n      }\n      thisObj.title = result.data.data[0].title;\n      thisObj.reportData = result.data.data[0].data;\n      result.data.data[0].data;\n    }\n\n    // Set the token \n    callback2(thisObj, res, result) { \n      console.log('Setting the token:'+result.data.token)\n      thisObj.token = result.data.token;\n    }\n\n    // Register a text & edit a text\n    callback3(thisObj, res, result) { \n      console.log('Callback3');\n      console.log(result);\n    \n      if (result.data != undefined) {\n        if (result.data.msg != undefined) {\n          thisObj.response2 = result.data.msg;\n          thisObj.router.navigate(['seeReports']);\n        }\n      }\n      if (result.error != undefined) {\n          thisObj.response2 = result.error;\n          thisObj.response2 = 'Not completed, duplicate title?';\n      }\n    }\n\n    // Register a text & edit a text\n    callback4(thisObj, res, result) { \n      console.log('Callback4');\n      console.log(result);\n    \n      if (result.data != undefined) {\n        if (result.data.msg != undefined) {\n          thisObj.response2 = result.data.msg;\n          // thisObj.router.navigate(['seeReports']);\n        }\n      }\n      if (result.error != undefined) {\n          thisObj.response2 = result.error;\n          thisObj.response2 = 'Not completed';\n      }\n    }\n\n    // ROUTES\n    // Display text from week nr\n    route1(weekNr) {\n      var url = 'https://me-api.ysojs.se/reports/week/' + weekNr;\n      var dataObj = {};\n      var token = null;\n      var obj1 = this;\n\n      this.reportData = '';\n      this.title = '';\n      this.response2 = '';\n\n      this.ApiCallService.fetchCall(dataObj ,url, 'GET', this.callback, token, obj1);\n    }\n\n    // // Add data\n    // route2(title, data=null) {\n    //   console.log('Title:'+title);\n    //   console.log('Data:'+data);\n    //   this.response2 = '';\n\n    //   this.reportData = data;\n    //   this.title = title;\n    // }\n\n    // // Edit data\n    // route3(title, data=null, data2=null) {\n    //   console.log('Title:'+title);\n    //   console.log('Data:'+data);\n    //   console.log('Data:'+data2);\n\n    //   this.reportData = data;\n    //   this.title = title;\n    // }\n\n    // Get token\n    route4() {\n      console.log('Get token');\n\n      var url = \"https://me-api.ysojs.se/token\";\n      var dataObj = {};\n      var obj1 = this;\n      this.ApiCallService.fetchCall(dataObj, url, 'GET', this.callback2, null, obj1);\n    }\n\n    // Register a text\n    // registerText(title, text, token) {\n    //   var url = 'https://me-api.ysojs.se/reports/add';\n    //   var params;\n    //   params = {\"title\":title, \"data1\":text};\n    //   this.ApiCallService.fetchCall();\n    // }\n\n\n    // Register a text\n    route5 (title, text, token=this.token) {\n      console.log('Add a text: '+text+' title: '+title+' token: '+token);\n      var url = 'https://me-api.ysojs.se/reports/add';\n      var obj1 = this;\n      var params = {\"title\":title, \"data1\":text};\n      this.response2 = ''; // Empty response text\n      this.ApiCallService.fetchCall(params, url, 'POST', this.callback3, token, obj1);\n    }\n\n    // Edit a text\n    route6 (title, text, token=this.token) {\n      console.log('Add a text: '+text+' title: '+title+' token: '+token);\n      var url = 'https://me-api.ysojs.se/reports/edit';\n      var obj1 = this;\n      var params = {\"title\":title, \"data1\":text};\n      this.response2 = ''; // Empty response text\n      this.ApiCallService.fetchCall(params, url, 'POST', this.callback3, token, obj1);\n    }\n\n    // Delete a text\n    route7 (title, token=this.token) {\n      console.log('Delete title: '+title);\n      var url = 'https://me-api.ysojs.se/reports/delete';\n      var obj1 = this;\n      var params = {\"title\":title};\n      this.response2 = ''; // Empty response text\n      this.ApiCallService.fetchCall(params, url, 'POST', this.callback4, token, obj1);\n    }\n}\n","\n<div class=\"centerColumn\">\n    <h1> Reports </h1>\n    {{response1}}\n\n    <div class=\"theForm\">  \n            Week: \n            <input #box1 type=\"number\" class='input'>\n            <div (click)=\"route1(box1.value)\" class=\"submitBtn\"> Submit </div>\n            <!-- <div class=\"response\"><p> {{response2}} </p></div> -->\n    </div>\n\n    <h2> Reports </h2>\n    <div class=\"reports\">  \n        <h3>Title</h3>\n        <p> {{title}} </p>\n\n        <h3>ReportData</h3>\n        <p>{{reportData}}</p>\n    </div>\n\n    <h3> Edit / add </h3>\n    <div class=\"reports\">  \n        Title: <input #input1 type=\"text\" class='input' value={{title}}><br>\n        Text: <textarea id=\"input2\" rows=\"5\" cols=\"30\" value={{reportData}} #input2>{{reportData}}</textarea><br>\n        <div (click)=\"route5(input1.value, input2.value)\" class=\"submitBtn\"> Add </div>\n        <div (click)=\"route6(input1.value, input2.value)\" class=\"submitBtn\"> Edit </div>\n        <div (click)=\"route7(input1.value)\" class=\"submitBtn\"> Delete </div>\n    </div>\n\n    <div class=\"reports\">  \n        <h2> Response </h2>\n        <p>{{response2}}</p>\n    </div>\n</div>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}