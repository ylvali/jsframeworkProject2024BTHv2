{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../chat-service.service\";\nimport * as i2 from \"@angular/common\";\nfunction ChatComponent_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 8)(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", message_r2, \" \");\n  }\n}\nexport class ChatComponent {\n  constructor(ChatService) {\n    this.ChatService = ChatService;\n    this.messages = [];\n    this.name = 'NoName';\n    this.comments = this.ChatService.comments;\n  }\n  // @ViewChild('name') inputElement : ElementRef; \n  // @ViewChild('nameBtn') inputBtnElement : ElementRef; \n  // @ViewChild('nameTitle') inputH1Element : ElementRef; \n  // @ViewChild('nameField') inputFieldElement : ElementRef; \n  // addName(name: string) {\n  //   console.log('new name: '+name );\n  //   this.name = name;\n  //   this.inputElement.nativeElement.remove();\n  //   this.inputBtnElement.nativeElement.remove();\n  //   this.inputH1Element.nativeElement.remove();\n  //   this.inputFieldElement.nativeElement.remove();\n  // }\n  sendMsg(msg) {\n    console.log('send message');\n    this.ChatService.sendMessage(msg);\n    window.scrollTo(0, document.body.scrollHeight);\n  }\n  // Subscribe to chat messages\n  ngOnInit() {\n    this.ChatService.getMessages().subscribe(message => {\n      this.messages.push(message);\n    });\n  }\n  static #_ = this.ɵfac = function ChatComponent_Factory(t) {\n    return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatComponent,\n    selectors: [[\"app-chat\"]],\n    decls: 13,\n    vars: 1,\n    consts: [[1, \"chat\"], [\"id\", \"chat\"], [\"id\", \"messages\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"form\"], [\"type\", \"text\", \"id\", \"input\", \"value\", \"\", 1, \"input\"], [\"box1\", \"\"], [3, \"click\"], [\"id\", \"chatName\"], [\"id\", \"messages\"]],\n    template: function ChatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \" Real time prices \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \" Prices of productX can change any moment. Fill in the new price and it is updated through a realtime connection. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵtemplate(6, ChatComponent_ul_6_Template, 3, 1, \"ul\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelement(8, \"input\", 4, 5);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵlistener(\"click\", function ChatComponent_Template_div_click_10_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r1 = i0.ɵɵreference(9);\n          ctx.sendMsg(_r1.value);\n          return i0.ɵɵresetView(_r1.value = \"\");\n        });\n        i0.ɵɵtext(11, \"Send\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"p\", 7);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      }\n    },\n    dependencies: [i2.NgForOf],\n    styles: [\".chat[_ngcontent-%COMP%] { background-color: #988ab6; color: white; font-size: 1.1em; width:50%; padding: 5%; padding-bottom: 7%; border-radius: 24px; margin: 0 auto;}\\n#nameField[_ngcontent-%COMP%] {width: 50%; margin: 0 auto; min-height: 200px; font-size: 0.8em; text-transform: uppercase; position: absolute; width: 90%; height: 30%; background: black; text-align: center; border-radius: 24px;}\\n\\n#form[_ngcontent-%COMP%] { background: rgba(0, 0, 0, 0.15); padding: 1%; position: fixed; bottom: 72px; left: 0; right: 0; display: flex; height: 4rem; box-sizing: border-box; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); }\\n#input1[_ngcontent-%COMP%] { border: none; padding: 1%; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; }\\n#input[_ngcontent-%COMP%] { border: none; padding: 0 1rem; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; min-height: 25px;}\\n#input[_ngcontent-%COMP%]:focus { outline: none; }\\n.btn[_ngcontent-%COMP%] { background: #333; border: none; padding: 1%; margin: 0.25rem; border-radius: 3px; outline: none; color: #fff; } \\n\\n#messages[_ngcontent-%COMP%] { list-style-type: none; margin: 0; padding: 0; }\\n#messages[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] { background: #a597c1; padding: 0.5rem 1rem; }\\n#messages[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:nth-child(odd) { background: #686464; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsUUFBUSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBRSxjQUFjLENBQUM7QUFDbkosWUFBWSxVQUFVLEVBQUUsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLHlCQUF5QixFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUUsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUM7O0FBRWhOLFFBQVEsK0JBQStCLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLHNCQUFzQixFQUFFLG1DQUEyQixFQUEzQiwyQkFBMkIsRUFBRTtBQUMxTCxVQUFVLFlBQVksRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLGVBQWUsRUFBRTtBQUN6RixTQUFTLFlBQVksRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsQ0FBQztBQUM3RyxlQUFlLGFBQWEsRUFBRTtBQUM5QixPQUFPLGdCQUFnQixFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUU7O0FBRXJILFlBQVkscUJBQXFCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRTtBQUMxRCxpQkFBaUIsbUJBQW1CLEVBQUUsb0JBQW9CLEVBQUU7QUFDNUQsZ0NBQWdDLG1CQUFtQixFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjOTg4YWI2OyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMS4xZW07IHdpZHRoOjUwJTsgcGFkZGluZzogNSU7IHBhZGRpbmctYm90dG9tOiA3JTsgYm9yZGVyLXJhZGl1czogMjRweDsgbWFyZ2luOiAwIGF1dG87fVxuI25hbWVGaWVsZCB7d2lkdGg6IDUwJTsgbWFyZ2luOiAwIGF1dG87IG1pbi1oZWlnaHQ6IDIwMHB4OyBmb250LXNpemU6IDAuOGVtOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiA5MCU7IGhlaWdodDogMzAlOyBiYWNrZ3JvdW5kOiBibGFjazsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItcmFkaXVzOiAyNHB4O31cblxuI2Zvcm0geyBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMTUpOyBwYWRkaW5nOiAxJTsgcG9zaXRpb246IGZpeGVkOyBib3R0b206IDcycHg7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBkaXNwbGF5OiBmbGV4OyBoZWlnaHQ6IDRyZW07IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsgfVxuI2lucHV0MSB7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMSU7IGZsZXgtZ3JvdzogMTsgYm9yZGVyLXJhZGl1czogMnJlbTsgbWFyZ2luOiAwLjI1cmVtOyB9XG4jaW5wdXQgeyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDAgMXJlbTsgZmxleC1ncm93OiAxOyBib3JkZXItcmFkaXVzOiAycmVtOyBtYXJnaW46IDAuMjVyZW07IG1pbi1oZWlnaHQ6IDI1cHg7fVxuI2lucHV0OmZvY3VzIHsgb3V0bGluZTogbm9uZTsgfVxuLmJ0biB7IGJhY2tncm91bmQ6ICMzMzM7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMSU7IG1hcmdpbjogMC4yNXJlbTsgYm9yZGVyLXJhZGl1czogM3B4OyBvdXRsaW5lOiBub25lOyBjb2xvcjogI2ZmZjsgfSBcblxuI21lc3NhZ2VzIHsgbGlzdC1zdHlsZS10eXBlOiBub25lOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH1cbiNtZXNzYWdlcyA+IGxpIHsgYmFja2dyb3VuZDogI2E1OTdjMTsgcGFkZGluZzogMC41cmVtIDFyZW07IH1cbiNtZXNzYWdlcyA+IGxpOm50aC1jaGlsZChvZGQpIHsgYmFja2dyb3VuZDogIzY4NjQ2NDsgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","message_r2","ChatComponent","constructor","ChatService","messages","name","comments","sendMsg","msg","console","log","sendMessage","window","scrollTo","document","body","scrollHeight","ngOnInit","getMessages","subscribe","message","push","_","ɵɵdirectiveInject","i1","_2","selectors","decls","vars","consts","template","ChatComponent_Template","rf","ctx","ɵɵtemplate","ChatComponent_ul_6_Template","ɵɵelement","ɵɵlistener","ChatComponent_Template_div_click_10_listener","ɵɵrestoreView","_r3","_r1","ɵɵreference","value","ɵɵresetView","ɵɵproperty"],"sources":["/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/projektJs2024/frontendProj/src/app/chat/chat.component.ts","/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/projektJs2024/frontendProj/src/app/chat/chat.component.html"],"sourcesContent":["import { Component, ElementRef, inject, ViewChild } from '@angular/core';\n\nimport { ChatService } from '../chat-service.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\n\nexport class ChatComponent {\n  constructor( \n    private ChatService: ChatService) { \n    }\n\n    message: string;\n    messages: string[] = [];\n    response: void;\n    name : string = 'NoName';\n\n    comments = this.ChatService.comments;\n\n    // @ViewChild('name') inputElement : ElementRef; \n    // @ViewChild('nameBtn') inputBtnElement : ElementRef; \n    // @ViewChild('nameTitle') inputH1Element : ElementRef; \n    // @ViewChild('nameField') inputFieldElement : ElementRef; \n\n\n    // addName(name: string) {\n    //   console.log('new name: '+name );\n    //   this.name = name;\n    //   this.inputElement.nativeElement.remove();\n    //   this.inputBtnElement.nativeElement.remove();\n    //   this.inputH1Element.nativeElement.remove();\n    //   this.inputFieldElement.nativeElement.remove();\n\n    // }\n\n    sendMsg(msg: string) {\n      console.log('send message');\n      this.ChatService.sendMessage(msg);\n      window.scrollTo(0, document.body.scrollHeight);\n    }\n\n    // Subscribe to chat messages\n    ngOnInit() {\n      this.ChatService\n        .getMessages()\n        .subscribe((message: string) => {\n          this.messages.push(message);\n        });\n    }\n\n}\n","<!-- <div id=\"nameField\" #nameField>\n    <p #nameTitle type=\"text\" >Your name: </p>\n    <input #name type=\"text\" id=\"input1\" value='BladeRunner'> \n    <div #nameBtn (click)=\"addName(name.value); name.value=''\" class=\"btn\">Send</div>\n</div> -->\n\n<div class=\"chat\">  \n    <h1> Real time prices </h1>\n    <p> Prices of productX can change any moment. Fill in the new price and it is updated through a realtime connection. </p>\n\n        <div id=\"chat\">\n            <ul id=\"messages\" *ngFor=\"let message of messages\">\n                <li> {{message}} </li>\n            </ul>\n        </div>\n\n        <div id=\"form\">\n            <input #box1 type=\"text\" id=\"input\" class='input' value='' >\n            <div (click)=\"sendMsg(box1.value); box1.value=''\" >Send</div>\n        </div>\n        <p id=\"chatName\"></p>\n\n</div>"],"mappings":";;;;;ICWYA,EAAA,CAAAC,cAAA,YAAmD;IAC1CD,EAAA,CAAAE,MAAA,GAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAjBH,EAAA,CAAAI,SAAA,GAAY;IAAZJ,EAAA,CAAAK,kBAAA,MAAAC,UAAA,MAAY;;;ADFjC,OAAM,MAAOC,aAAa;EACxBC,YACUC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAInB,KAAAC,QAAQ,GAAa,EAAE;IAEvB,KAAAC,IAAI,GAAY,QAAQ;IAExB,KAAAC,QAAQ,GAAG,IAAI,CAACH,WAAW,CAACG,QAAQ;EAPpC;EASA;EACA;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEAC,OAAOA,CAACC,GAAW;IACjBC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3B,IAAI,CAACP,WAAW,CAACQ,WAAW,CAACH,GAAG,CAAC;IACjCI,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAEC,QAAQ,CAACC,IAAI,CAACC,YAAY,CAAC;EAChD;EAEA;EACAC,QAAQA,CAAA;IACN,IAAI,CAACd,WAAW,CACbe,WAAW,EAAE,CACbC,SAAS,CAAEC,OAAe,IAAI;MAC7B,IAAI,CAAChB,QAAQ,CAACiB,IAAI,CAACD,OAAO,CAAC;IAC7B,CAAC,CAAC;EACN;EAAC,QAAAE,CAAA,G;qBAzCQrB,aAAa,EAAAP,EAAA,CAAA6B,iBAAA,CAAAC,EAAA,CAAArB,WAAA;EAAA;EAAA,QAAAsB,EAAA,G;UAAbxB,aAAa;IAAAyB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;QCJ1BtC,EAAA,CAAAC,cAAA,aAAkB;QACTD,EAAA,CAAAE,MAAA,yBAAiB;QAAAF,EAAA,CAAAG,YAAA,EAAK;QAC3BH,EAAA,CAAAC,cAAA,QAAG;QAACD,EAAA,CAAAE,MAAA,yHAAiH;QAAAF,EAAA,CAAAG,YAAA,EAAI;QAErHH,EAAA,CAAAC,cAAA,aAAe;QACXD,EAAA,CAAAwC,UAAA,IAAAC,2BAAA,gBAEK;QACTzC,EAAA,CAAAG,YAAA,EAAM;QAENH,EAAA,CAAAC,cAAA,aAAe;QACXD,EAAA,CAAA0C,SAAA,kBAA4D;QAC5D1C,EAAA,CAAAC,cAAA,cAAmD;QAA9CD,EAAA,CAAA2C,UAAA,mBAAAC,6CAAA;UAAA5C,EAAA,CAAA6C,aAAA,CAAAC,GAAA;UAAA,MAAAC,GAAA,GAAA/C,EAAA,CAAAgD,WAAA;UAAST,GAAA,CAAA1B,OAAA,CAAAkC,GAAA,CAAAE,KAAA,CAAmB;UAAA,OAAEjD,EAAA,CAAAkD,WAAA,CAAAH,GAAA,CAAAE,KAAA,GAAW,EAAE;QAAA,EAAC;QAAEjD,EAAA,CAAAE,MAAA,YAAI;QAAAF,EAAA,CAAAG,YAAA,EAAM;QAEjEH,EAAA,CAAA0C,SAAA,YAAqB;QAE7B1C,EAAA,CAAAG,YAAA,EAAM;;;QAX4CH,EAAA,CAAAI,SAAA,GAAW;QAAXJ,EAAA,CAAAmD,UAAA,YAAAZ,GAAA,CAAA7B,QAAA,CAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}